m2d2.load((e=>{e.dict.set({yes:{en:"YES"},no:{en:"NO"},ok:{en:"OK"},send:{en:"SEND"},cancel:{en:"CANCEL"}})})),m2d2.ready((e=>{const i=new EventSource("/events"),t=e("#ssid"),s=e("#ip"),o=e("#wifiSsidList",{template:{ssidName:{tagName:"option",id:"ssidName"}},items:[]}),n=e("#wifiPassword");e("#main",{onload:function(i){e.get("/getssid",(e=>{o.items.clear(),e.ok?e.data.forEach((e=>{o.items.push({text:e})})):console.debug("The response for getting Wifi SSIDs is empty!")}),!0)}});e("#buttonConnectWifi",{onclick:function(i){if(""===o.value)e.failure("Please choose a wifi to connect to.");else if(""===n.value)e.failure("Please provide the wifi password.");else{const i={ssid:o.value,pass:n.value};e.post("/wificonnect",i,(i=>{i.ok?e.success("Connected to WiFi."):e.failure("Failed to connect to wifi.")}),!0)}}}),e("#showPassword",{onclick:function(e){"visibility_off"===e.target.text?(this.text="visibility",n.type="text"):(this.text="visibility_off",n.type="password")}}),e("#buttonDisconnectWifi",{onclick:function(i){e.confirm("Disconnect will also disable your control",(i=>{i&&e.post("/wifidisconnect",(i=>{i.ok&&e.success("WiFi disconnected.")}),!0)}))}});i.addEventListener("wifi",(function(e){var i=JSON.parse(JSON.parse(e.data));"connected"===i.status?(t.text=i.ssid,s.text=i.ip):(t.text="Disconnected",s.text="")}))}));