m2d2.load((e=>{e.dict.set({yes:{en:"YES"},no:{en:"NO"},ok:{en:"OK"},send:{en:"SEND"},cancel:{en:"CANCEL"}})})),m2d2.ready((e=>{var t=null;const o=e("#header"),n=e(".container"),a=e("#mainControl"),i=e("#bubbles"),s=e("#tbodySongList",{template:{tr:{tagName:"tr",author:{tagName:"td",css:"author"},song:{tagName:"td",css:"song"},dateAdded:{tagName:"td",css:"dateAdded"},onclick:function(e){const o=this.dataset.id;t=o,this.classList.add("active"),s.items.forEach((e=>{e.dataset.id!=o?(e.classList.remove("active"),e.style.background=""):e.style.background="#ffee00"}))}}},items:[]}),c=e(".wrapper",{onload:function(t){e.get("/checksessions",(e=>{if(e.ok){n.show=!1,i.show=!1,o.show=!0,a.show=!0;for(var t=0;t<10;t++)s.items.push({dataset:{id:t},author:{text:"Name "+t},song:{text:"Song "+t},dateAdded:{text:"Date "+t}});localStorage.setItem("login",!0)}else o.show=!1,a.show=!1,n.show=!0,i.show=!0,localStorage.clear()}),!0)}}),l=e(".form"),r=e("#inputUsername"),d=e("#inputPassword"),p=(e("#loginButton",{onclick:function(t){t.preventDefault();const o=r.value,n=d.value;if(""===o||""===n)e.failure("Username or Password cannot be empty!");else{const t={user:o,pass:n};e.post("/login.path",t,(t=>{t.ok?(l.show=!1,c.classList.add("form-success"),localStorage.setItem("login",!0),location.reload()):e.failure("Error: ",t.message)}),!0)}}}),e("#navNew",{onclick:function(e){window.open("http://localhost:5555/create","newWindow","width=800,height=600,toolbar=no,scrollbars=yes,resizable=yes")}}),e("#navEdit",{onclick:function(o){null===t?e.failure("Please select a song to edit."):e.alert("Editing...")}}),e("#navDelete",{onclick:function(o){null===t?e.failure("Please select a song to delete."):e.alert("Deleting...")}}),e("#navInfo"),e("#navLogout",{onclick:function(t){e.confirm("Are you want to log out?",(t=>{t&&e.get("/logout.path",(e=>{e.ok&&(o.show=!1,a.show=!1,n.show=!0,i.show=!0,localStorage.clear())}))}))}}),e("#inputSearch",{onkeypress:function(t){"Enter"===t.key&&(""===this.value?e.failure("I did not get that!"):e.alert("Searching..."))}}));e("#iconSearch",{onclick:function(t){""===p.value?e.failure("I did not get that!"):e.alert("Searching...")}});tippy("#navNew",{content:"Create a new song",interactive:!0,placement:"top",animation:"scale"}),tippy("#navEdit",{content:"Edit an existing song",interactive:!0,placement:"top",animation:"scale"}),tippy("#navDelete",{content:"Delete a song",interactive:!0,placement:"top",animation:"scale"}),tippy("#navInfo",{allowHTML:!0,content:'<p>Application: HWVCI Presenter</p>\n<p>Software version: 1.0</p>\n<p>Developer: Sem Moreno</p>\n<p>Website: <a href="https://josapedmoreno.xyz" target="_blank">josapedmoreno.xyz</a></p>',interactive:!0,trigger:"click",onShow:async e=>{}}),tippy("#navLogout",{content:"Log out",interactive:!0,placement:"top",animation:"scale"}),tippy("#iconSearch",{content:"Search",interactive:!0,placement:"top",animation:"scale"})}));