m2d2.load((t=>{t.dict.set({yes:{en:"YES"},no:{en:"NO"},ok:{en:"OK"},send:{en:"SEND"},cancel:{en:"CANCEL"}})})),m2d2.ready((t=>{const e=t("#main"),n=t("#lyrics"),o=t("#info"),s=new EventSource("/events");s.addEventListener("lyrics",(function(t){let e=t.data.split("\\n");e.shift();const o=e.join("\n").replace(/\\n/g,"\n").replace(/\$[a-zA-Z]/,"").replaceAll('"',"");n.textContent=o})),s.addEventListener("settings",(function(t){})),s.addEventListener("clear",(function(t){n.textContent=""})),s.addEventListener("theme",(function(t){var o=JSON.parse(JSON.parse(t.data));o.id;const s=o.font,i=o.font_size,l=o.font_color,r=o.bold,f=o.italic,a=o.strike_through,_=o.top_left_offset,c=o.top_middle_offset,d=o.top_right_offset,g=o.left_upper_offset,y=o.right_upper_offset,p=o.left_middle_offset,m=o.right_middle_offset,h=o.left_lower_offset,v=o.right_lower_offset,u=o.left_bottom_offset,x=o.middle_bottom_offset,b=o.right_bottom_offset,E=(o.text_align,o.justify_content,o.align_items,_+c+d),O=u+x+b,S=g+p+h,j=y+m+v;n.style.marginTop=E+"px",n.style.marginBottom=O+"px",n.style.marginLeft=S+"px",n.style.marginRight=j+"px",n.style.fontFamily=s,n.style.fontSize=i+"px",n.style.color=l,r&&(n.style.fontWeight="bold"),f&&(n.style.fontStyle="italic"),a&&(n.style.textDecoration="line-through"),n.style.textAlign=o.text_align,e.style.justifyContent=o.justify_content,e.style.alignItems=o.align_items})),s.addEventListener("verse",(function(e){var s=JSON.parse(JSON.parse(e.data));t.post("/searchbibleverse",s,(t=>{if(t.ok){var e="",s="";const l=t.data;l.length>1&&(e="\n\n");const r=l.length,f=Object.keys(l[0]).length;for(let t=0;t<f;t++){var i="";for(let n=0;n<r;n++)i+=l[n][Object.keys(l[n])[t]]+e;for(let e=0;e<r;e++){s=Object.keys(l[e])[t]}}n.textContent=i,o.textContent=s}}),(t=>{console.error("Error getting verse",t)}),!0)}))}));