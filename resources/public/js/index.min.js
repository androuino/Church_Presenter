m2d2.load((t=>{t.dict.set({yes:{en:"YES"},no:{en:"NO"},ok:{en:"OK"},send:{en:"SEND"},cancel:{en:"CANCEL"}})})),m2d2.ready((t=>{const e=t("#main"),n=t("#lyrics"),o=new EventSource("/events");o.addEventListener("lyrics",(function(t){let e=t.data.split("\\n");e.shift();const o=e.join("\n").replace(/\\n/g,"\n").replace(/\$[a-zA-Z]/,"").replaceAll('"',"");n.textContent=o})),o.addEventListener("settings",(function(t){})),o.addEventListener("clear",(function(t){n.textContent=""})),o.addEventListener("theme",(function(t){var o=JSON.parse(JSON.parse(t.data));o.id;const s=o.font,i=o.font_size,l=o.font_color,f=o.bold,a=o.italic,r=o.strike_through,d=o.top_left_offset,_=o.top_middle_offset,c=o.top_right_offset,g=o.left_upper_offset,y=o.right_upper_offset,m=o.left_middle_offset,p=o.right_middle_offset,h=o.left_lower_offset,u=o.right_lower_offset,x=o.left_bottom_offset,v=o.middle_bottom_offset,E=o.right_bottom_offset,C=(o.text_align,o.justify_content,o.align_items,d+_+c),L=x+v+E,S=g+m+h,b=y+p+u;n.style.marginTop=C+"px",n.style.marginBottom=L+"px",n.style.marginLeft=S+"px",n.style.marginRight=b+"px",n.style.fontFamily=s,n.style.fontSize=i+"px",n.style.color=l,f&&(n.style.fontWeight="bold"),a&&(n.style.fontStyle="italic"),r&&(n.style.textDecoration="line-through"),n.style.textAlign=o.text_align,e.style.justifyContent=o.justify_content,e.style.alignItems=o.align_items})),o.addEventListener("verse",(function(t){console.log("Raw data is",t.data);let e=decodeURIComponent(escape(t.data));console.log(e);const o=e;n.textContent=o}))}));