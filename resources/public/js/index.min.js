m2d2.load((t=>{t.dict.set({yes:{en:"YES"},no:{en:"NO"},ok:{en:"OK"},send:{en:"SEND"},cancel:{en:"CANCEL"}})})),m2d2.ready((t=>{const e=t("#splashScreen"),n=t("#main"),o=t("#lyrics"),s=t("#videoContainer",{show:!1}),i=t("#imageContainer",{show:!1}),r=t("#info",{show:!1}),l=new EventSource("/events");t("body",{onload:function(t){setTimeout((function(){e.style.display="none",n.style.display="flex",r.show=!0,s.show=!0,s.src="assets/tiny.mp4"}),3e3)}});l.addEventListener("lyrics",(function(t){let e=t.data.split("\\n");e.shift();const n=e.join("\n").replace(/\\n/g,"\n").replace(/\$[a-zA-Z]/,"").replaceAll('"',"");o.textContent=n})),l.addEventListener("settings",(function(t){})),l.addEventListener("clear",(function(t){o.textContent="",r.textContent="HWVCI Presenter"})),l.addEventListener("theme",(function(t){var e=JSON.parse(JSON.parse(t.data));e.id;const s=e.font,i=e.font_size,r=e.font_color,l=e.bold,a=e.italic,f=e.strike_through,d=e.top_left_offset,c=e.top_middle_offset,h=e.top_right_offset,y=e.left_upper_offset,_=e.right_upper_offset,g=e.left_middle_offset,p=e.right_middle_offset,m=e.left_lower_offset,u=e.right_lower_offset,v=e.left_bottom_offset,w=e.middle_bottom_offset,E=e.right_bottom_offset,x=(e.text_align,e.justify_content,e.align_items,d+c+h),L=v+w+E,b=y+g+m,C=_+p+u;o.style.marginTop=x+"px",o.style.marginBottom=L+"px",o.style.marginLeft=b+"px",o.style.marginRight=C+"px",o.style.fontFamily=s,o.style.fontSize=i+"px",o.style.color=r,l&&(o.style.fontWeight="bold"),a&&(o.style.fontStyle="italic"),f&&(o.style.textDecoration="line-through"),o.style.textAlign=e.text_align,n.style.justifyContent=e.justify_content,n.style.alignItems=e.align_items})),l.addEventListener("verse",(function(e){var n=JSON.parse(JSON.parse(e.data));t.post("/searchbibleverse",n,(t=>{if(t.ok){var e="",n="";const i=t.data;i.length>1&&(e="\n\n");const l=i.length,a=Object.keys(i[0]).length;for(let t=0;t<a;t++){var s="";for(let n=0;n<l;n++)s+=i[n][Object.keys(i[n])[t]]+e;for(let e=0;e<l;e++){n=Object.keys(i[e])[t]}}o.textContent=s,r.textContent=n}}),(t=>{console.error("Error getting verse",t)}),!0)})),l.addEventListener("media",(function(t){})),l.addEventListener("hidelyrics",(function(t){o.show=!1})),l.addEventListener("blackscreen",(function(t){o.show=!1,s.src="",s.show=!1,i.src="",i.show=!1,r.show=!1})),l.addEventListener("showdesktop",(function(t){})),l.addEventListener("showlyrics",(function(t){o.show=!0,r.show=!0})),l.addEventListener("removebackground",(function(t){s.show=!1,s.src=""})),l.addEventListener("title",(function(t){r.textContent=t.data.replaceAll('"',"")}))}));